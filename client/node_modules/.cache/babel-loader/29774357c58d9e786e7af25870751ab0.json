{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/alejandroortega/Desktop/UpTop-FullStack/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _regeneratorRuntime from\"/Users/alejandroortega/Desktop/UpTop-FullStack/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/alejandroortega/Desktop/UpTop-FullStack/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/alejandroortega/Desktop/UpTop-FullStack/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/alejandroortega/Desktop/UpTop-FullStack/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/alejandroortega/Desktop/UpTop-FullStack/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React,{useState}from'react';import styled from'styled-components';import{Button,TextField}from'@mui/material';import{Palette}from'./utils/colors';import{useDispatch}from'react-redux';import{logIn,signIn,none}from'./utils/stores/log';import{useSelector}from'react-redux';import cancel from'../resources/images/cancel.png';import{fetchLogIn,fetchSignUp}from'./utils/fetchs';import{saveUser}from'./utils/stores/user';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LogIn=function LogIn(){var formInitialState={username:'',password:'',password_confirmation:'',email:'',name:'',last_name:''};var _useState=useState(formInitialState),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var onChangeForm=function onChangeForm(e){var name=e.target.name,value=e.target.value;setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value)));};var onSubmitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(log==='login')){_context.next=7;break;}_context.next=4;return fetchLogIn(formData);case 4:response=_context.sent;_context.next=11;break;case 7:if(!(log==='signin')){_context.next=11;break;}_context.next=10;return fetchSignUp(formData);case 10:response=_context.sent;case 11:if(response.hasOwnProperty('error')){setError(response.error);}else{changeLogState('none');setFormData(_objectSpread({},formInitialState));dispatch(saveUser(response));}case 12:case\"end\":return _context.stop();}}},_callee);}));return function onSubmitForm(_x){return _ref.apply(this,arguments);};}();var log=useSelector(function(state){return state.log.value;});var dispatch=useDispatch();var changeLogState=function changeLogState(newValue){switch(newValue){case'none':dispatch(none());break;case'signin':dispatch(signIn());break;case'login':dispatch(logIn());break;default:}};var dependsOnLogState=function dependsOnLogState(){if(log==='login'){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{sx:{backgroundColor:Palette.SECONDARY},variant:\"contained\",onClick:onSubmitForm,children:\" Log In\"}),error?/*#__PURE__*/_jsx(\"p\",{children:error}):null,/*#__PURE__*/_jsx(Line,{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Dont have an account? \",/*#__PURE__*/_jsx(\"mark\",{onClick:function onClick(){return changeLogState('signin');},children:\"Sign In\"})]})]});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TextField,{required:true,sx:{margin:'5px',width:'75%'},name:\"password_confirmation\",type:\"password\",label:\"Repeat Password\",variant:\"filled\",value:formData.password_confirmation,onChange:onChangeForm}),/*#__PURE__*/_jsx(TextField,{required:true,sx:{margin:'5px',width:'75%'},name:\"email\",label:\"Email\",variant:\"filled\",value:formData.email,onChange:onChangeForm}),/*#__PURE__*/_jsx(TextField,{required:true,sx:{margin:'5px',width:'75%'},name:\"name\",label:\"Name\",variant:\"filled\",value:formData.name,onChange:onChangeForm}),/*#__PURE__*/_jsx(TextField,{required:true,sx:{margin:'5px',width:'75%'},name:\"last_name\",label:\"Last Name\",variant:\"filled\",value:formData.last_name,onChange:onChangeForm}),/*#__PURE__*/_jsx(Button,{sx:{backgroundColor:Palette.SECONDARY,margin:'10px 0px'},variant:\"contained\",onClick:onSubmitForm,children:\" Sign In\"}),error?/*#__PURE__*/_jsx(\"p\",{children:error}):null,/*#__PURE__*/_jsx(Line,{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"mark\",{onClick:function onClick(){return changeLogState('login');},children:\"Log In\"})]})]});}};return/*#__PURE__*/_jsx(Auth,{children:/*#__PURE__*/_jsxs(AuthForm,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome Trader\"}),/*#__PURE__*/_jsx(TextField,{required:true,sx:{margin:'5px',width:'75%'},name:\"username\",type:\"text\",label:\"Username\",variant:\"filled\",value:formData.username,onChange:onChangeForm}),/*#__PURE__*/_jsx(TextField,{required:true,sx:{margin:'5px',width:'75%'},name:\"password\",type:\"password\",label:\"Password\",variant:\"filled\",value:formData.password,onChange:onChangeForm}),dependsOnLogState(),/*#__PURE__*/_jsx(Quit,{src:cancel,alt:\"quit button\",onClick:function onClick(){return changeLogState('none');}})]})});};export default LogIn;var Auth=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    position: fixed;\\n    width: 100%; \\n    height: 100%; \\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    background-color: rgba(0,0,0,0.5); \\n    z-index: 1; \\n\\n    display: flex;\\n    align-items:center;\\n    justify-content:center;\\n    \\n\"])));var AuthForm=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    position: relative;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    justify-content: center;\\n    width: 400px;\\n    padding: 0 10px;\\n    background-color: #F6F3EF;\\n    padding: 30px;\\n\\n    z-index: 3; \\n\\n    border-style: solid;\\n    border-width: 2px;\\n    border-color: gray;\\n    box-shadow: 5px 10px 18px #888888;\\n    \\n    > * {\\n        margin-bottom: 25px;\\n    }\\n\"])));var Quit=styled.img(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    width: 40px;\\n    height: 40px;\\n    margin: 10px;\\n\"])));var Line=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    height: 0;\\n    width: 80%;\\n    margin: 20px;\\n    border-bottom: 1px solid gray;\\n\"])));","map":{"version":3,"names":["React","useState","styled","Button","TextField","Palette","useDispatch","logIn","signIn","none","useSelector","cancel","fetchLogIn","fetchSignUp","saveUser","LogIn","formInitialState","username","password","password_confirmation","email","name","last_name","formData","setFormData","error","setError","onChangeForm","e","target","value","onSubmitForm","preventDefault","log","response","hasOwnProperty","changeLogState","dispatch","state","newValue","dependsOnLogState","backgroundColor","SECONDARY","margin","width","Auth","div","AuthForm","Quit","img","Line"],"sources":["/Users/alejandroortega/Desktop/UpTop-FullStack/client/src/components/LogIn.js"],"sourcesContent":["import React, {useState} from 'react';\nimport styled from 'styled-components';\nimport { Button, TextField } from '@mui/material';\nimport { Palette } from './utils/colors';\nimport { useDispatch } from 'react-redux';\nimport { logIn, signIn, none } from './utils/stores/log';\nimport { useSelector } from 'react-redux';\nimport cancel from '../resources/images/cancel.png'\nimport { fetchLogIn, fetchSignUp } from './utils/fetchs';\nimport { saveUser } from './utils/stores/user';\n\n\nconst LogIn = () => {\n\n    const formInitialState= {\n        username: '',\n        password: '',\n        password_confirmation: '',\n        email: '',\n        name: '',\n        last_name: ''\n    }\n    const [formData, setFormData] = useState(formInitialState)\n    const [error, setError] = useState('')\n\n    const onChangeForm = (e) => {\n        let name = e.target.name, value = e.target.value\n        setFormData({...formData, [name]: value })\n    }\n\n    const onSubmitForm = async (e) => {\n        e.preventDefault()\n        let response;\n        if (log === 'login'){\n            response = await fetchLogIn(formData)\n\n        }else if(log === 'signin'){\n            response = await fetchSignUp(formData)\n\n        }\n        \n        if(response.hasOwnProperty('error')){\n            setError(response.error)\n        }else{\n            changeLogState('none')\n            setFormData({...formInitialState})\n            dispatch(saveUser(response))\n            \n        }\n    } \n\n\n    const log = useSelector(state => state.log.value)\n    const dispatch = useDispatch();\n    const changeLogState = (newValue) => {\n        switch(newValue){\n            case 'none':\n                dispatch(none())\n                break;\n            case 'signin':\n                dispatch(signIn())\n                break;\n            case 'login':\n                dispatch(logIn())\n                break;\n            default:\n        }\n    }\n\n    const dependsOnLogState = () => {\n        if(log === 'login'){\n            return (\n                <>\n                    <Button sx={{backgroundColor: Palette.SECONDARY}}variant=\"contained\" onClick={onSubmitForm}> Log In</Button>\n                    {error? <p>{error}</p> : null}\n                    <Line/>\n                    <p>Dont have an account? <mark onClick={() => changeLogState('signin')}>Sign In</mark></p> \n                </>\n            )\n        }else{\n            return (\n                <>\n                    <TextField required sx={{margin: '5px', width: '75%'}} name='password_confirmation' type='password' label=\"Repeat Password\" variant=\"filled\" value={formData.password_confirmation} onChange={onChangeForm}/>\n                    <TextField required sx={{margin: '5px', width: '75%'}} name='email' label=\"Email\" variant=\"filled\" value={formData.email} onChange={onChangeForm}/>\n                    <TextField required sx={{margin: '5px', width: '75%'}} name='name' label=\"Name\" variant=\"filled\" value={formData.name} onChange={onChangeForm}/>\n                    <TextField required sx={{margin: '5px', width: '75%'}} name='last_name' label=\"Last Name\" variant=\"filled\" value={formData.last_name} onChange={onChangeForm}/>\n                    <Button sx={{backgroundColor: Palette.SECONDARY, margin: '10px 0px'}}variant=\"contained\" onClick={onSubmitForm}> Sign In</Button>\n                    {error? <p>{error}</p> : null}\n                    <Line/>\n                    <p>Already have an account? <mark onClick={() => changeLogState('login')}>Log In</mark></p> \n                </>\n            )\n        }\n    }\n\n    return ( \n        <Auth>\n            <AuthForm>\n                <h1>Welcome Trader</h1>\n                <TextField required sx={{margin: '5px', width: '75%'}} name='username' type='text' label=\"Username\" variant=\"filled\" value={formData.username} onChange={onChangeForm}/>\n                <TextField required sx={{margin: '5px', width: '75%'}} name='password' type='password' label=\"Password\" variant=\"filled\" value={formData.password} onChange={onChangeForm}/>\n                {dependsOnLogState()}   \n                <Quit src={cancel} alt='quit button' onClick={()=> changeLogState('none')}/>\n            </AuthForm>   \n        </Auth>\n    );\n}\n \nexport default LogIn;\n\nconst Auth = styled.div`\n    position: fixed;\n    width: 100%; \n    height: 100%; \n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0,0,0,0.5); \n    z-index: 1; \n\n    display: flex;\n    align-items:center;\n    justify-content:center;\n    \n`\n\nconst AuthForm = styled.div`\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 400px;\n    padding: 0 10px;\n    background-color: #F6F3EF;\n    padding: 30px;\n\n    z-index: 3; \n\n    border-style: solid;\n    border-width: 2px;\n    border-color: gray;\n    box-shadow: 5px 10px 18px #888888;\n    \n    > * {\n        margin-bottom: 25px;\n    }\n`\n\nconst Quit = styled.img`\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 40px;\n    height: 40px;\n    margin: 10px;\n`\n\nconst Line = styled.div`\n    height: 0;\n    width: 80%;\n    margin: 20px;\n    border-bottom: 1px solid gray;\n`\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
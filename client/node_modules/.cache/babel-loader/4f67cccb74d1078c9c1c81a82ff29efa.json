{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/alejandroortega/Desktop/UpTop-FullStack/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _regeneratorRuntime from\"/Users/alejandroortega/Desktop/UpTop-FullStack/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/alejandroortega/Desktop/UpTop-FullStack/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/alejandroortega/Desktop/UpTop-FullStack/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/alejandroortega/Desktop/UpTop-FullStack/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/alejandroortega/Desktop/UpTop-FullStack/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject;import React,{useState,useEffect}from'react';import styled from\"styled-components\";import{v4 as uuidv4}from'uuid';import{getCourses}from'../components/utils/fetchs';import ListSubheader from'@mui/material/ListSubheader';import List from'@mui/material/List';import ListItemButton from'@mui/material/ListItemButton';import ListItemIcon from'@mui/material/ListItemIcon';import ListItemText from'@mui/material/ListItemText';import Collapse from'@mui/material/Collapse';import{Navigate}from'react-router-dom';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyCourse=function MyCourse(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),courses=_useState2[0],setCourses=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),selectedLink=_useState6[0],setLink=_useState6[1];var currentUser=useSelector(function(state){return state.user.value;});var handleClick=function handleClick(index){setOpen(_objectSpread(_objectSpread({},open),{},_defineProperty({},index,!open[index])));};var handleLoadVideo=function handleLoadVideo(link){console.log(link);setLink(link);};useEffect(function(){var fetchCourses=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,open;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getCourses();case 2:response=_context.sent;open=new Array(response.length).fill(false);console.log(response);setOpen(_objectSpread({},open));setCourses(response);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchCourses(){return _ref.apply(this,arguments);};}();fetchCourses();},[]);if(currentUser===''){return/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/\"});}return/*#__PURE__*/_jsxs(Body,{children:[/*#__PURE__*/_jsx(List,{sx:{width:'100%',maxWidth:200,height:500,bgcolor:'background.paper'},component:\"nav\",\"aria-labelledby\":\"nested-list-subheader\",subheader:/*#__PURE__*/_jsx(ListSubheader,{component:\"div\",id:\"nested-list-subheader\",children:\"Courses\"}),children:courses.map(function(course,index){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ListItemButton,{onClick:function onClick(){return handleClick(index);},children:/*#__PURE__*/_jsx(ListItemText,{primary:course.title})},uuidv4()),/*#__PURE__*/_jsx(Collapse,{in:open[index],timeout:\"auto\",unmountOnExit:true,children:/*#__PURE__*/_jsx(List,{component:\"div\",disablePadding:true,children:course.links.map(function(link){return/*#__PURE__*/_jsx(ListItemButton,{sx:{pl:4},onClick:function onClick(){return handleLoadVideo(link.link_url);},children:/*#__PURE__*/_jsx(ListItemText,{primary:link.title})},uuidv4());})},uuidv4())},uuidv4())]},uuidv4());})}),/*#__PURE__*/_jsx(\"iframe\",{width:\"853\",height:\"480\",src:selectedLink,frameBorder:\"0\",allow:\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",allowFullScreen:true,title:\"Embedded youtube\"})]});};export default MyCourse;var Body=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    display: flex;\\n\"])));","map":{"version":3,"names":["React","useState","useEffect","styled","v4","uuidv4","getCourses","ListSubheader","List","ListItemButton","ListItemIcon","ListItemText","Collapse","Navigate","useSelector","MyCourse","courses","setCourses","open","setOpen","selectedLink","setLink","currentUser","state","user","value","handleClick","index","handleLoadVideo","link","console","log","fetchCourses","response","Array","length","fill","width","maxWidth","height","bgcolor","map","course","title","links","pl","link_url","Body","div"],"sources":["/Users/alejandroortega/Desktop/UpTop-FullStack/client/src/pages/MyCourse.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport styled from \"styled-components\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { getCourses } from '../components/utils/fetchs';\nimport ListSubheader from '@mui/material/ListSubheader';\nimport List from '@mui/material/List';\nimport ListItemButton from '@mui/material/ListItemButton';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText';\nimport Collapse from '@mui/material/Collapse';\nimport { Navigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\n\nconst MyCourse = () => {\n\n    const [courses, setCourses] = useState([])\n    const [open, setOpen] = useState({});\n    const [selectedLink, setLink] = useState('')\n    const currentUser = useSelector(state => state.user.value)\n\n    const handleClick = (index) => {\n        setOpen({...open, [index]: !open[index]});\n    };\n    const handleLoadVideo = (link) => {\n        console.log(link)\n        setLink(link)\n    }\n    useEffect(()=> {\n        const fetchCourses = async() => {\n            let response = await getCourses()\n            let open = new Array(response.length).fill(false);\n            console.log(response)\n            setOpen({...open})\n            setCourses(response)\n        }\n        fetchCourses()\n    }, [])\n\n\n    if (currentUser===''){\n        return <Navigate replace to='/'/>\n    }\n    return ( \n        <Body>\n            <List\n                sx={{ width: '100%', maxWidth: 200, height: 500, bgcolor: 'background.paper' }}\n                component=\"nav\"\n                aria-labelledby=\"nested-list-subheader\"\n                subheader={\n                    <ListSubheader component=\"div\" id=\"nested-list-subheader\">\n                        Courses\n                    </ListSubheader>\n                }\n                >\n                {courses.map((course, index) => {\n                    return (\n                        <React.Fragment key={uuidv4()}>\n                            <ListItemButton key={uuidv4()} onClick={()=>handleClick(index)}>\n                                <ListItemText  primary={course.title} />\n                            </ListItemButton>\n                            <Collapse key={uuidv4()} in={open[index]} timeout=\"auto\" unmountOnExit>\n                                <List key={uuidv4()} component=\"div\" disablePadding>\n                            {course.links.map((link) => {\n                                return (        \n                                    <ListItemButton key={uuidv4()} sx={{ pl: 4 }} onClick={()=>handleLoadVideo(link.link_url)}>\n                                        <ListItemText primary={link.title}/>\n                                    </ListItemButton>   \n                                )\n                            })}\n                                </List>\n                            </Collapse>\n                        </React.Fragment>\n                    )\n                })}\n            </List>\n            <iframe\n                width=\"853\"\n                height=\"480\"\n                src={selectedLink}\n                frameBorder=\"0\"\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                allowFullScreen\n                title=\"Embedded youtube\"\n            />\n        </Body>\n    );\n}\n \nexport default MyCourse;\n\nconst Body = styled.div`\n    display: flex;\n`"],"mappings":"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"},"metadata":{},"sourceType":"module"}
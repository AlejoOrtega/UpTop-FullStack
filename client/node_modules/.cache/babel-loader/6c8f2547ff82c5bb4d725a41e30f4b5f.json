{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/alejandroortega/Desktop/UpTop-FullStack/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _regeneratorRuntime from\"/Users/alejandroortega/Desktop/UpTop-FullStack/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/alejandroortega/Desktop/UpTop-FullStack/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/alejandroortega/Desktop/UpTop-FullStack/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import React,{useState}from'react';import{deleteAccount,updateUsername}from'../components/utils/fetchs';import{Navigate,useNavigate}from'react-router-dom';import{useDispatch}from'react-redux';import{useSelector}from'react-redux';import{saveUser,logOut}from'../components/utils/stores/user';import{TextField,Button}from'@mui/material';import styled from'styled-components';import user from'../resources/images/user.png';import{Palette}from'../components/utils/colors';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=function Profile(){var navigate=useNavigate();var dispatch=useDispatch();var currentUser=useSelector(function(state){return state.user.value;});var _useState=useState(''),_useState2=_slicedToArray(_useState,2),newUser=_useState2[0],setNewUser=_useState2[1];var onDeleteAccount=function onDeleteAccount(){deleteAccount();dispatch(logOut());navigate('/');};var onUpdateAccount=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return updateUsername(newUser);case 2:response=_context.sent;console.log(response);dispatch(saveUser(response.username));case 5:case\"end\":return _context.stop();}}},_callee);}));return function onUpdateAccount(){return _ref.apply(this,arguments);};}();if(currentUser===''){return/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/\"});}return/*#__PURE__*/_jsx(Body,{children:/*#__PURE__*/_jsxs(MainSection,{children:[/*#__PURE__*/_jsx(ProfileImage,{src:user,alt:\"profile-picture\"}),/*#__PURE__*/_jsxs(UserInfo,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"User profile\"}),/*#__PURE__*/_jsx(\"h3\",{children:currentUser.name+' '+currentUser.last_name}),/*#__PURE__*/_jsx(\"h3\",{children:currentUser.email}),/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Update Username\"}),/*#__PURE__*/_jsx(TextField,{sx:{marginRight:'10px;'},placeholder:\"type new username\",value:newUser,onChange:function onChange(e){return setNewUser(e.target.value);}}),/*#__PURE__*/_jsx(Button,{sx:{backgroundColor:Palette.SECONDARY,marginRight:'10px'},variant:\"contained\",onClick:onUpdateAccount,children:\"update\"})]}),/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Delete Account\"}),/*#__PURE__*/_jsx(Button,{sx:{backgroundColor:'red',marginRight:'10px'},variant:\"contained\",onClick:onDeleteAccount,children:\"Delete account\"})]})]})]})});};export default Profile;var Body=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    height: 600px;\\n    display: flex;\\n    flex-direction: column;\\n    margin: 30px;\\n\"])));var ProfileImage=styled.img(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    width: 400px;\\n    height: 400px;\\n    \\n\"])));var UserInfo=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    width: 100%;\\n    display: flex;\\n    flex-direction: column;\\n\\n    > h1 {\\n        align-self: center;\\n        margin-bottom: 20px;\\n    }\\n\"])));var MainSection=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-evenly;\\n\\n    > img {\\n        margin-right: 20px;\\n    }\\n\"])));var Section=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    display: flex;\\n    align-items: center;\\n    margin: 30px 0;\\n    > * {\\n        margin-right: 10px;\\n    }\\n\"])));","map":{"version":3,"names":["React","useState","deleteAccount","updateUsername","Navigate","useNavigate","useDispatch","useSelector","saveUser","logOut","TextField","Button","styled","user","Palette","Profile","navigate","dispatch","currentUser","state","value","newUser","setNewUser","onDeleteAccount","onUpdateAccount","response","console","log","username","name","last_name","email","marginRight","e","target","backgroundColor","SECONDARY","Body","div","ProfileImage","img","UserInfo","MainSection","Section"],"sources":["/Users/alejandroortega/Desktop/UpTop-FullStack/client/src/pages/Profile.js"],"sourcesContent":["import React, {useState} from 'react';\nimport { deleteAccount, updateUsername } from '../components/utils/fetchs';\nimport { Navigate, useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { useSelector } from 'react-redux';\nimport { saveUser, logOut } from '../components/utils/stores/user';\nimport { TextField, Button } from '@mui/material';\nimport styled from 'styled-components';\nimport user from '../resources/images/user.png'\nimport { Palette } from '../components/utils/colors';\n\nconst Profile = () => {\n    const navigate = useNavigate()\n    const dispatch = useDispatch()\n    const currentUser = useSelector(state => state.user.value)\n    const [newUser, setNewUser ] = useState('')\n    const onDeleteAccount = () => {\n        deleteAccount()\n        dispatch(logOut())\n        navigate('/')\n    }\n\n    const onUpdateAccount = async() => {\n        let response = await updateUsername(newUser)\n        console.log(response)\n        dispatch(saveUser(response.username))\n    }\n\n    if (currentUser===''){\n        return <Navigate replace to='/'/>\n    }\n    return ( \n    <Body>\n        <MainSection>\n            <ProfileImage src={user} alt='profile-picture'/>\n            <UserInfo>\n                <h1>User profile</h1>\n                <h3>{currentUser.name + ' ' + currentUser.last_name}</h3>\n                <h3>{currentUser.email}</h3>\n                <Section>\n                    <h3>Update Username</h3>\n                    <TextField sx={{marginRight: '10px;'}}placeholder='type new username' value={newUser} onChange={e => setNewUser(e.target.value) }/>\n                    <Button sx={{backgroundColor: Palette.SECONDARY, marginRight: '10px'}} variant=\"contained\" onClick={onUpdateAccount}>update</Button>\n                </Section>\n                <Section>\n                    <h3>Delete Account</h3>\n                    <Button sx={{backgroundColor: 'red', marginRight: '10px'}} variant=\"contained\" onClick={onDeleteAccount}>Delete account</Button>\n                </Section>\n            </UserInfo>\n        </MainSection>\n        \n    </Body> \n    );\n}\n \nexport default Profile;\n\nconst Body = styled.div`\n    height: 600px;\n    display: flex;\n    flex-direction: column;\n    margin: 30px;\n`\nconst ProfileImage = styled.img`\n    width: 400px;\n    height: 400px;\n    \n`\nconst UserInfo = styled.div`\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n\n    > h1 {\n        align-self: center;\n        margin-bottom: 20px;\n    }\n`\nconst MainSection = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: space-evenly;\n\n    > img {\n        margin-right: 20px;\n    }\n`\n\nconst Section = styled.div`\n    display: flex;\n    align-items: center;\n    margin: 30px 0;\n    > * {\n        margin-right: 10px;\n    }\n`"],"mappings":"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"},"metadata":{},"sourceType":"module"}